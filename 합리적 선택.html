<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O/X í€´ì¦ˆ | í•©ë¦¬ì  ì„ íƒì˜ ì˜ë¯¸ì™€ í•œê³„ (10ë¬¸ì œ)</title>
    <style>
        /* =================== 1. ë°˜ì‘í˜• ë° ê¸°ë³¸ ìŠ¤íƒ€ì¼ (CSS) =================== */

        :root {
            --bg-color: #f0f8ff;    /* AliceBlue */
            --container-color: #fffacd; /* LemonChiffon */
            --primary-color: #4682b4; /* SteelBlue */
            --correct-color: #2e8b57; /* SeaGreen */
            --incorrect-color: #a52a2a; /* Brown */
            --o-button-color: #98fb98; /* PaleGreen */
            --x-button-color: #ffb6c1; /* LightPink */
            --font-size-q: 1.875rem; 
            --font-size-h1: 2.2rem;
        }

        /* ë¯¸ë””ì–´ ì¿¼ë¦¬: ëª¨ë°”ì¼ ìµœì í™” (í°íŠ¸ í¬ê¸° ì¡°ì •) */
        @media (max-width: 600px) {
            :root {
                --font-size-q: 1.5rem; 
                --font-size-h1: 1.8rem;
            }
            .ox-button {
                padding: 15px 30px !important;
                font-size: 2.0rem !important;
            }
            .question-text {
                margin-bottom: 20px !important;
            }
            .feedback-message {
                font-size: 1.8rem !important;
            }
            .answer-reason {
                font-size: 1.1rem !important;
            }
            .quiz-container {
                padding: 20px 15px;
            }
        }
        
        body {
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
            background-color: var(--bg-color); 
            margin: 0;
            padding: 0; 
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
            overflow: auto; 
        }

        .quiz-container {
            width: 95%; 
            max-width: 900px; 
            min-height: 90vh; 
            background-color: var(--container-color); 
            padding: 30px 30px; 
            border-radius: 18px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25); 
            position: relative;
            overflow: hidden; 
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: var(--font-size-h1); 
            font-weight: 700;
        }
        
        .quiz-wrapper {
            flex-grow: 1; 
            overflow: hidden; 
            position: relative;
        }

        .quiz-track {
            display: flex;
            height: 100%; 
            transition: transform 0.5s ease-in-out;
            margin: 0 -30px; 
        }

        .quiz-slide {
            min-width: 100%; 
            height: 100%; 
            box-sizing: border-box;
            padding: 10px 30px; 
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between; 
            overflow-y: auto; 
        }

        .question-content {
            flex-grow: 1;
            padding-bottom: 20px; 
        }

        .question-number {
            font-size: 1.5rem; 
            color: var(--primary-color); 
            margin-bottom: 15px;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .speaker-icon {
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--correct-color);
            transition: color 0.1s;
        }
        .speaker-icon:hover {
            color: var(--primary-color);
        }

        .question-text {
            font-size: var(--font-size-q); 
            line-height: 1.6;
            margin-bottom: 30px;
            font-weight: 800; 
            color: #1a1a1a;
        }

        .ox-buttons {
            display: flex;
            justify-content: center;
            gap: 40px; 
            margin-top: 15px; 
            margin-bottom: 15px;
        }

        .ox-button {
            padding: 18px 50px;
            font-size: 2.5rem; 
            font-weight: 900;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 5px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s, box-shadow 0.2s;
            flex-grow: 1;
            max-width: 180px;
        }
        .ox-button.O { background-color: var(--o-button-color); color: var(--correct-color); }
        .ox-button.X { background-color: var(--x-button-color); color: var(--incorrect-color); }
        .ox-button:disabled { opacity: 0.7; cursor: default; }

        .feedback-message {
            font-size: 2.2rem;
            font-weight: 900;
            margin-bottom: 15px;
            min-height: 35px; 
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        .feedback-correct { color: var(--correct-color); }
        .feedback-incorrect { color: var(--incorrect-color); }

        .answer-container {
            margin-top: 20px;
            padding: 15px;
            background-color: #fcfcfc; 
            border-left: 6px solid var(--primary-color); 
            border-radius: 8px;
            text-align: left;
            display: none; 
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .answer-result {
            font-size: 1.7rem; 
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 8px;
        }

        .answer-reason {
            font-size: 1.3rem; 
            color: #333;
            line-height: 1.6;
        }
        
        .next-button {
            padding: 15px 30px;
            background-color: var(--primary-color); 
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.3rem;
            font-weight: 600;
            margin-top: 20px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
            transition: background-color 0.2s;
            display: none; 
            align-self: center;
            flex-shrink: 0; 
        }
        .next-button:active {
            transform: translateY(1px);
        }

        .completion-slide {
            font-size: 2.5rem;
            color: var(--primary-color);
            padding: 60px 0;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>í•µì‹¬ ê°œë… O/X í€´ì¦ˆ | í•©ë¦¬ì  ì„ íƒì˜ ì˜ë¯¸ì™€ í•œê³„ (10ë¬¸ì œ)</h1>
        
        <div class="quiz-wrapper">
            <div class="quiz-track" id="quizTrack">
                </div>
        </div>
    </div>

    <script>
        // =================== 3. í•©ë¦¬ì  ì„ íƒ ê°œë… 10ë¬¸ì œ í’€ ===================
        const allQuestions = [
            {q: "í¬ì†Œì„± ë•Œë¬¸ì— ì¸ê°„ì€ ì„ íƒì˜ ë¬¸ì œì— ì§ë©´í•˜ë©°, ì´ëŠ” í•©ë¦¬ì  ì„ íƒì„ í•´ì•¼ í•˜ëŠ” ê·¼ë³¸ì ì¸ ì´ìœ ê°€ ëœë‹¤.", a: "O", reason: "ê²½ì œ í™œë™ì€ í¬ì†Œì„±ì„ ì „ì œë¡œ í•˜ë©°, í¬ì†Œí•˜ê¸° ë•Œë¬¸ì— ìì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ëŠ” í•©ë¦¬ì  ì„ íƒì´ í•„ìš”í•©ë‹ˆë‹¤."},
            {q: "í•©ë¦¬ì  ì„ íƒì€ ì„ íƒìœ¼ë¡œ ì–»ëŠ” í¸ìµì´ **ëª…ì‹œì  ë¹„ìš©**ê³¼ **ì•”ë¬µì  ë¹„ìš©**ì„ í•©í•œ ì´ ê¸°íšŒë¹„ìš©ë³´ë‹¤ í´ ë•Œ ì´ë£¨ì–´ì§„ë‹¤.", a: "O", reason: "í•©ë¦¬ì  ì„ íƒì˜ ê¸°ì¤€ì€ 'í¸ìµ > ê¸°íšŒë¹„ìš©'ì…ë‹ˆë‹¤. ê¸°íšŒë¹„ìš©ì€ í¬ê¸°í•œ ëŒ€ì•ˆì˜ ê°€ì¹˜(ì•”ë¬µì  ë¹„ìš©)ì™€ ì‹¤ì œ ì§€ì¶œ(ëª…ì‹œì  ë¹„ìš©)ì„ ëª¨ë‘ í¬í•¨í•©ë‹ˆë‹¤."},
            {q: "ê¸°íšŒë¹„ìš© ì¤‘ **ì•”ë¬µì  ë¹„ìš©**ì€ ì‹¤ì œë¡œ ê¸ˆì „ ì§€ì¶œì´ ë°œìƒí•œ ë¹„ìš©ì„ ì˜ë¯¸í•œë‹¤.", a: "X", reason: "ì•”ë¬µì  ë¹„ìš©ì€ ì‹¤ì œë¡œ ëˆì„ ì§€ì¶œí•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ, í¬ê¸°í•œ ëŒ€ì•ˆ ì¤‘ ê°€ì¥ í° ê°€ì¹˜ë¥¼ ë§í•©ë‹ˆë‹¤. ê¸ˆì „ ì§€ì¶œì´ ìˆëŠ” ë¹„ìš©ì€ ëª…ì‹œì  ë¹„ìš©ì…ë‹ˆë‹¤."},
            {q: "ëŒ€í•™ ë“±ë¡ê¸ˆì€ ëª…ì‹œì  ë¹„ìš©ì— í•´ë‹¹í•˜ì§€ë§Œ, í•™ì—… ë•Œë¬¸ì— í¬ê¸°í•œ ì•„ë¥´ë°”ì´íŠ¸ ì†Œë“ì€ ê¸°íšŒë¹„ìš©ì— í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤.", a: "X", reason: "ì•„ë¥´ë°”ì´íŠ¸ ì†Œë“ì€ í¬ê¸°í•œ ëŒ€ì•ˆì˜ ê°€ì¹˜(ì•”ë¬µì  ë¹„ìš©)ë¡œì„œ ê¸°íšŒë¹„ìš©ì— ë°˜ë“œì‹œ í¬í•¨ë©ë‹ˆë‹¤."},
            {q: "ì •ë³´ íƒìƒ‰ì— ë“œëŠ” ì‹œê°„ê³¼ ë…¸ë ¥ì€ í¬ì†Œí•œ ìì›ì˜ ì‚¬ìš©ì´ë¯€ë¡œ, í•©ë¦¬ì  ì„ íƒ ê³¼ì •ì—ì„œ **ë¹„ìš©**ìœ¼ë¡œ ê³ ë ¤ë˜ì–´ì•¼ í•œë‹¤.", a: "O", reason: "ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•œ ëª¨ë“  í™œë™(ì‹œê°„, ë…¸ë ¥, ê¸ˆì „)ì€ ê¸°íšŒë¹„ìš©ìœ¼ë¡œ ì¸¡ì •ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."},
            {q: "ê°œì¸ì˜ í•©ë¦¬ì  ì„ íƒì€ í•­ìƒ ì‚¬íšŒ ì „ì²´ì˜ ì´ìµìœ¼ë¡œ ì´ì–´ì§€ë¯€ë¡œ, **ì‚¬íšŒì  ë¹„í•©ë¦¬ì„±**ì„ ì´ˆë˜í•˜ëŠ” ê²½ìš°ëŠ” ì—†ë‹¤.", a: "X", reason: "'ê³µìœ ì§€ì˜ ë¹„ê·¹'ì²˜ëŸ¼, ê°œì¸ì˜ í•©ë¦¬ì  ì„ íƒì´ ëª¨ì—¬ ì‚¬íšŒ ì „ì²´ì˜ ìì› ê³ ê°ˆì´ë‚˜ í™˜ê²½ íŒŒê´´ ë“± ë¹„í•©ë¦¬ì  ê²°ê³¼ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."},
            {q: "í•©ë¦¬ì  ì„ íƒì˜ í•œê³„ ì¤‘ í•˜ë‚˜ëŠ” ê°œì¸ì˜ ì„ íƒì´ ì‹œì¥ ê°€ê²©ì— ë°˜ì˜ë˜ì§€ ì•ŠëŠ” **ì™¸ë¶€ íš¨ê³¼**ë¥¼ ê°„ê³¼í•˜ê¸° ì‰½ë‹¤ëŠ” ì ì´ë‹¤.", a: "O", reason: "ì„ íƒìëŠ” ìì‹ ì˜ ì‚¬ì  ì´ìµë§Œ ê³ ë ¤í•˜ê³ , ì œ3ìì—ê²Œ ë¯¸ì¹˜ëŠ” ê¸ì •ì /ë¶€ì •ì  íš¨ê³¼(ì™¸ë¶€ íš¨ê³¼)ëŠ” ë¬´ì‹œí•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤."},
            {q: "**ë§¤ëª° ë¹„ìš©**(ì´ë¯¸ ì§€ì¶œë˜ì–´ íšŒìˆ˜ê°€ ë¶ˆê°€ëŠ¥í•œ ë¹„ìš©)ì€ í•©ë¦¬ì  ì„ íƒì„ í•  ë•Œ ë¯¸ë˜ì˜ ê²°ì •ì— ì˜í–¥ì„ ì£¼ì–´ì„œëŠ” ì•ˆ ëœë‹¤.", a: "O", reason: "ë§¤ëª° ë¹„ìš©ì€ ì´ë¯¸ ë°œìƒí•˜ì—¬ ì–´ë–¤ ì„ íƒì„ í•˜ë“  ë˜ëŒë¦´ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ë¯¸ë˜ì˜ í•©ë¦¬ì ì¸ ì„ íƒ íŒë‹¨ ê¸°ì¤€(í¸ìµê³¼ ê¸°íšŒë¹„ìš©)ì—ì„œ ì œì™¸í•´ì•¼ í•©ë‹ˆë‹¤."},
            {q: "í•©ë¦¬ì  ì„ íƒì˜ í¸ìµê³¼ ë¹„ìš©ì€ ë°˜ë“œì‹œ ê¸ˆì „ì  ê°€ì¹˜ë¡œë§Œ ì¸¡ì •í•´ì•¼ í•˜ë©°, ì‹¬ë¦¬ì  ë§Œì¡±ê° ê°™ì€ **ë¹„ê¸ˆì „ì  ê°€ì¹˜**ëŠ” ê³ ë ¤í•  ìˆ˜ ì—†ë‹¤.", a: "X", reason: "ì„ íƒì˜ í¸ìµê³¼ ë¹„ìš©ì—ëŠ” ì‹¬ë¦¬ì  ë§Œì¡±ê°, ìë¶€ì‹¬, ìŠ¤íŠ¸ë ˆìŠ¤ ë“± ë¹„ê¸ˆì „ì ì¸ ìš”ì†Œë„ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."},
            {q: "í˜„ì‹¤ì˜ ê²½ì œ ì£¼ì²´ë“¤ì€ ì •ë³´ ë¶€ì¡±, ì‹œê°„ ì œì•½ ë“±ìœ¼ë¡œ ì¸í•´ **ì™„ë²½í•œ ì •ë³´**ë¥¼ ê°€ì§€ê³  í•©ë¦¬ì  ì„ íƒì„ í•˜ëŠ” ê²ƒì€ ì‚¬ì‹¤ìƒ ì–´ë µë‹¤.", a: "O", reason: "ì •ë³´ íƒìƒ‰ì˜ í•œê³„ì™€ ë¹„ìš© ë¬¸ì œ ë•Œë¬¸ì— í˜„ì‹¤ì—ì„œëŠ” ì œí•œëœ í•©ë¦¬ì„±(bounded rationality)ì— ê¸°ì´ˆí•˜ì—¬ ì„ íƒí•˜ê²Œ ë©ë‹ˆë‹¤."},
        ];

        // =================== 4. í€´ì¦ˆ ì‹¤í–‰ ë° TTS ë¡œì§ (JavaScript) ===================

        const TOTAL_QUIZ_COUNT = allQuestions.length; // 10ë¬¸ì œ ê³ ì • ì¶œì œ
        let selectedQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let ttsActivated = false; 

        const quizTrack = document.getElementById('quizTrack');
        const synth = window.speechSynthesis; 

        /**
         * TTS: í…ìŠ¤íŠ¸ë¥¼ ìŒì„±ìœ¼ë¡œ ì½ì–´ì¤ë‹ˆë‹¤. 
         */
        function speak(text) {
            if (!ttsActivated) return;
            if (!synth) return;

            if (synth.speaking) {
                synth.cancel();
            }

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ko-KR';

            const voices = synth.getVoices();
            const koreanVoice = voices.find(voice => voice.lang.startsWith('ko'));
            
            if (koreanVoice) {
                utterance.voice = koreanVoice;
            }

            utterance.rate = 1.0; 
            utterance.pitch = 1.0; 
            
            synth.speak(utterance);
        }
        
        /**
         * TTS ê¸°ëŠ¥ì„ ê°•ì œë¡œ í™œì„±í™”í•©ë‹ˆë‹¤. (ë¸Œë¼ìš°ì € ì •ì±… ìš°íšŒ ì‹œë„)
         */
        function activateTTS() {
            if (ttsActivated) return;
            
            const testUtterance = new SpeechSynthesisUtterance(" ");
            synth.speak(testUtterance);
            
            testUtterance.onend = () => {
                 ttsActivated = true;
                 console.log("TTS ê¸°ëŠ¥ì´ ì„±ê³µì ìœ¼ë¡œ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
                 speakQuestion(currentQuestionIndex); 
            };
            
            if (ttsActivated === false) {
                 ttsActivated = true;
            }
        }

        /**
         * í€´ì¦ˆ HTML ìƒì„± ë° ì´ˆê¸°í™”
         */
        function initQuiz() {
            ttsActivated = false; 
            if (synth.speaking) synth.cancel();

            // ë¬¸ì œ ë°°ì—´ì„ ì„ì–´ ë¬´ì‘ìœ„ ì¶œì œ
            selectedQuestions = allQuestions.sort(() => Math.random() - 0.5); 
            currentQuestionIndex = 0;
            score = 0;
            quizTrack.innerHTML = ''; 

            selectedQuestions.forEach((qData, index) => {
                const slide = document.createElement('div');
                slide.className = 'quiz-slide';
                slide.setAttribute('data-answer', qData.a);
                slide.id = `slide-${index}`;

                const questionHTML = `
                    <div class="question-content">
                        <div class="question-number">
                            ë¬¸ì œ ${index + 1}/${TOTAL_QUIZ_COUNT}
                            <span class="speaker-icon" onclick="speakQuestion(${index})">ğŸ”Š</span>
                        </div>
                        <div class="question-text" id="q-text-${index}">${qData.q}</div>
                        <div class="ox-buttons">
                            <button class="ox-button O" onclick="checkAnswer(this, 'O')">O</button>
                            <button class="ox-button X" onclick="checkAnswer(this, 'X')">X</button>
                        </div>
                        <div class="feedback-message" id="feedback-${index}"></div>
                        <div class="answer-container">
                            <div class="answer-result">ì •ë‹µ: ${qData.a}</div>
                            <div class="answer-reason">
                                <strong>í•´ì„¤:</strong> ${qData.reason}
                            </div>
                        </div>
                    </div>
                    <button class="next-button" onclick="nextQuestion()">${index === TOTAL_QUIZ_COUNT - 1 ? 'ê²°ê³¼ ë³´ê¸°' : 'ë‹¤ìŒ ë¬¸ì œ'}</button>
                `;
                slide.innerHTML = questionHTML;
                quizTrack.appendChild(slide);
            });

            // ì™„ë£Œ í™”ë©´ ìƒì„±
            const completionSlide = document.createElement('div');
            completionSlide.className = 'quiz-slide completion-slide';
            completionSlide.id = 'completionScreen';
            completionSlide.innerHTML = `
                <p>âœ¨ í€´ì¦ˆê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! âœ¨</p>
                <p>ìµœì¢… ì ìˆ˜: <span id="scoreDisplay">0ì </span> / ${TOTAL_QUIZ_COUNT * 10}ì </p>
                <button class="next-button restart-button" style="display: block;" onclick="restartQuiz()">ë‹¤ì‹œ ì‹œì‘</button>
            `;
            quizTrack.appendChild(completionSlide);

            updateSlide(true); 
        }

        /**
         * í˜„ì¬ ë¬¸ì œì˜ í…ìŠ¤íŠ¸ë¥¼ ì½ì–´ì¤ë‹ˆë‹¤.
         */
        function speakQuestion(index) {
            if (index >= selectedQuestions.length) return;
            const questionText = document.getElementById(`q-text-${index}`).textContent;
            const fullText = `ë¬¸ì œ ${index + 1}ë²ˆ. ${questionText}. ì˜¤ ë˜ëŠ” ì—‘ìŠ¤ ì¤‘ ë‹µì„ ì„ íƒí•˜ì„¸ìš”.`;
            speak(fullText);
        }

        /**
         * ìŠ¬ë¼ì´ë“œ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ ë° ìŒì„± ì¬ìƒ
         */
        function updateSlide(shouldSpeak = false) {
            const offset = -currentQuestionIndex * 100;
            quizTrack.style.transform = `translateX(${offset}%)`;

            if (shouldSpeak && currentQuestionIndex < TOTAL_QUIZ_COUNT) {
                setTimeout(() => {
                    if(ttsActivated) {
                        speakQuestion(currentQuestionIndex);
                    } 
                }, 100); 
            }
        }

        /**
         * O/X ë²„íŠ¼ í´ë¦­ ì‹œ ì •ë‹µ í™•ì¸ ë° í”¼ë“œë°± ì œê³µ
         */
        function checkAnswer(button, selectedAnswer) {
            if (!ttsActivated) {
                activateTTS();
            }
            
            const currentSlide = button.closest('.quiz-slide');
            if (currentQuestionIndex >= selectedQuestions.length) return; 

            const questionData = selectedQuestions[currentQuestionIndex];
            const correctAnswer = questionData.a;
            
            const answerContainer = currentSlide.querySelector('.answer-container');
            const nextButton = currentSlide.querySelector('.next-button');
            const oxButtons = currentSlide.querySelectorAll('.ox-button');
            const feedbackMessage = currentSlide.querySelector('.feedback-message');

            if (oxButtons[0].disabled) { return; } 

            let isCorrect = (selectedAnswer === correctAnswer);
            
            let feedbackText = isCorrect ? "ì •ë‹µì…ë‹ˆë‹¤!" : "ì˜¤ë‹µì…ë‹ˆë‹¤.";
            feedbackText += ` ì •ë‹µì€ ${correctAnswer}ì…ë‹ˆë‹¤. í•´ì„¤: ${questionData.reason}`;
            speak(feedbackText);

            feedbackMessage.textContent = isCorrect ? "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰" : `ì˜¤ë‹µì…ë‹ˆë‹¤. ğŸ˜­ (ì •ë‹µ: ${correctAnswer})`;
            feedbackMessage.className = isCorrect ? 'feedback-message feedback-correct' : 'feedback-message feedback-incorrect';
            
            if (isCorrect) {
                score += 10;
            }

            answerContainer.style.display = 'block';
            oxButtons.forEach(btn => btn.disabled = true);
            nextButton.style.display = 'block';
        }

        /**
         * ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™
         */
        function nextQuestion() {
            if (synth.speaking) {
                synth.cancel();
            }
            
            currentQuestionIndex++;
            
            if (currentQuestionIndex < TOTAL_QUIZ_COUNT) {
                updateSlide(true); 
            } else {
                showCompletionScreen();
            }
        }

        /**
         * í€´ì¦ˆ ì™„ë£Œ í™”ë©´ í‘œì‹œ
         */
        function showCompletionScreen() {
            const finalScore = `${score}ì `;
            document.getElementById('scoreDisplay').textContent = finalScore;
            currentQuestionIndex = TOTAL_QUIZ_COUNT; 
            updateSlide(); 
            
            speak(`í€´ì¦ˆê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ìµœì¢… ì ìˆ˜ëŠ” ${finalScore}ì…ë‹ˆë‹¤.`);
        }

        /**
         * í€´ì¦ˆë¥¼ ì²˜ìŒ ìƒíƒœë¡œ ì¬ì‹œì‘
         */
        function restartQuiz() {
            if (synth.speaking) {
                synth.cancel();
            }
            initQuiz(); 
        }

        // ì´ˆê¸° ë¡œë“œ ì‹œ í€´ì¦ˆ ì´ˆê¸°í™” ë° ì‹œì‘
        window.onload = initQuiz;
    </script>
</body>
</html>